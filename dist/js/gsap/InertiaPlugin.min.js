!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).window=t.window||{})}(this,function(t){"use strict";function e(){return i||"undefined"!=typeof window&&(i=window.gsap)}function n(t){return u(t).id}function f(t){return h[n("string"==typeof t?g(t)[0]:t)]}function r(t){var e,n=a;if(.05<=t-c)for(c=t;n;)((e=n.g(n.t,n.p))!==n.v1||.2<t-n.t1)&&(n.v2=n.v1,n.v1=e,n.t2=n.t1,n.t1=t),n=n._next}function p(){(i=e())&&(g=i.utils.toArray,o=i.utils.getUnit,u=i.core.getCache,s=i.ticker,l=1)}function R(t,e,n,i){this.t=t,this.p=e,this.g=t._gsap.get,this.rCap=V[n||o(this.g(t,e))],this.v1=this.v2=0,this.t1=this.t2=s.time,i&&((this._next=i)._prev=this)}var i,l,g,o,a,s,c,u,d,h={},V={deg:360,rad:2*Math.PI},v=(m.register=function(t){i=t,p()},(d=m.prototype).get=function(t,e){var n,t=this._props[t]||console.warn("Not tracking "+t+" velocity."),i=parseFloat(e?t.v1:t.g(t.t,t.p))-parseFloat(t.v2);return(n=t.rCap)&&(i%=n)!=i%(n/2)&&(i=i<0?i+n:i-n),n=i/((e?t.t1:s.time)-t.t2),Math.round(1e4*n)/1e4},d.getAll=function(){var t,e={};for(t in this._props)e[t]=this.get(t);return e},d.isTracking=function(t){return t in this._props},d.add=function(t,e){t in this._props||(a||(s.add(r),c=s.time),a=this._props[t]=new R(this.target,t,e,a))},d.remove=function(t){var e,n,i=this._props[t];i&&(e=i._prev,n=i._next,e&&(e._next=n),n?n._prev=e:a===i&&(s.remove(r),a=0),delete this._props[t])},d.kill=function(t){for(var e in this._props)this.remove(e);t||delete h[n(this.target)]},m.track=function(t,e,n){l||p();for(var i,r,o=[],a=g(t),s=e.split(","),c=(n||"").split(","),u=a.length;u--;){for(i=f(a[u])||new m(a[u]),r=s.length;r--;)i.add(s[r],c[r]||c[0]);o.push(i)}return o},m.untrack=function(t,e){var n=(e||"").split(",");g(t).forEach(function(t){var e=f(t);e&&(n.length?n.forEach(function(t){return e.remove(t)}):e.kill(1))})},m.isTracking=function(t,e){t=f(t);return t&&t.isTracking(e)},m.getVelocity=function(t,e){t=f(t);return t&&t.isTracking(e)?t.get(e):console.warn("Not tracking velocity of "+e)},m);function m(t,e){l||p(),this.target=g(t)[0],(h[n(this.target)]=this)._props={},e&&this.add(e)}function y(){return w||"undefined"!=typeof window&&(w=window.gsap)&&w.registerPlugin&&w}function x(t){return"number"==typeof t}function T(t){return"object"==typeof t}function F(t){return"function"==typeof t}function U(t){return t}function _(t,e,n,i,r){var o,a,s,c,u=e.length,f=0,p=B;if(T(t)){for(;u--;){for(s in o=e[u],a=0,t)a+=(c=o[s]-t[s])*c;a<p&&(f=u,p=a)}if((r||B)<B&&r<Math.sqrt(p))return t}else for(;u--;)(a=(a=(o=e[u])-t)<0?-a:a)<p&&i<=o&&o<=n&&(f=u,p=a);return e[f]}function P(t,e,n,i,r,o,a){if("auto"===t.end)return t;var s,c,u=t.end;if(n=isNaN(n)?B:n,i=isNaN(i)?-B:i,T(e)){if(s=!e.calculated&&(F(u)?u(e,a):_(e,u,n,i,o))||e,!e.calculated){for(c in s)e[c]=s[c];e.calculated=!0}s=s[r]}else s=F(u)?u(e,a):Q(u)?_(e,u,n,i,o):parseFloat(u);return n<s?s=n:s<i&&(s=i),{max:s,min:s,unitFactor:t.unitFactor}}function N(t,e,n){return isNaN(t[e])?n:+t[e]}function M(t,e){return.05*e*t/E}function b(t,e,n){return Math.abs((e-t)*E/n/.05)}function A(t,e,n,i){if(e.linkedProps){for(var r,o,a,s,c=e.linkedProps.split(","),u={},f=0;f<c.length;f++)(s=e[r=c[f]])&&(o=x(s.velocity)?s.velocity:(a=a||j(t))&&a.isTracking(r)?a.get(r):0,s=Math.abs(o/N(s,"resistance",i)),u[r]=parseFloat(n(t,r))+M(o,s));return u}}function q(){(w=y())&&(D=w.parseEase,G=w.utils.toArray,H=w.utils.getUnit,K=w.core.getCache,L=w.utils.clamp,k=D("power3"),E=k(.05),J=w.core.PropTween,w.config({resistance:100,unitFactors:{time:1e3,totalTime:1e3,progress:1e3,totalProgress:1e3}}),O=w.config(),w.registerPlugin(v),z=1)}v.getByTarget=f,e()&&i.registerPlugin(v);var w,z,D,G,k,O,H,J,K,E,L,C,j=v.getByTarget,Q=Array.isArray,B=1e10,S={resistance:1,checkpoint:1,preventOvershoot:1,linkedProps:1,radius:1,duration:1},I={version:"3.9.1",name:"inertia",register:function(t){w=t,q()},init:function(t,e,n,i,r){z||q();var o=j(t);if("auto"===e){if(!o)return void console.warn("No inertia tracking on "+t+". InertiaPlugin.track(target) first.");e=o.getAll()}this.target=t,this.tween=n,C=e;var a,s,c,u,f,p,l,g,d,h=t._gsap,v=h.get,m=e.duration,y=T(m),_=e.preventOvershoot||y&&0===m.overshoot,w=N(e,"resistance",O.resistance),k=x(m)?m:function(t,e,n,i,r,o){if(void 0===n&&(n=10),void 0===i&&(i=.2),void 0===r&&(r=1),void 0===o&&(o=0),!(t="string"==typeof t?G(t)[0]:t))return 0;var a,s,c,u,f,p,l,g,d,h=0,v=B,m=e.inertia||e,y=K(t).get,_=N(m,"resistance",O.resistance),w=A(t,m,y,_);for(a in m)S[a]||(s=m[a],T(s)||((g=g||j(t))&&g.isTracking(a)?s=x(s)?{velocity:s}:{velocity:g.get(a)}:(u=+s||0,c=Math.abs(u/_))),T(s)&&(u=x(s.velocity)?s.velocity:(g=g||j(t))&&g.isTracking(a)?g.get(a):0,c=L(i,n,Math.abs(u/N(s,"resistance",_))),p=(f=parseFloat(y(t,a))||0)+M(u,c),"end"in s&&(s=P(s,w&&a in w?w:p,s.max,s.min,a,m.radius,u),o&&(C===e&&(C=m=function t(e){var n,i,r={};for(n in e)r[n]=T(i=e[n])&&!Q(i)?t(i):i;return r}(e)),m[a]=function(t,e,n){for(var i in e)i in t||i===n||(t[i]=e[i]);return t}(s,m[a],"end"))),"max"in s&&p>+s.max+1e-10?(d=s.unitFactor||O.unitFactors[a]||1,(l=f>s.max&&s.min!==s.max||-15<u*d&&u*d<45?i+.1*(n-i):b(f,s.max,u))+r<v&&(v=l+r)):"min"in s&&p<s.min-1e-10&&(d=s.unitFactor||O.unitFactors[a]||1,(l=f<s.min&&s.min!==s.max||-45<u*d&&u*d<15?i+.1*(n-i):b(f,s.min,u))+r<v&&(v=l+r)),h<l&&(h=l)),h<c&&(h=c));return n<(h=v<h?v:h)?n:h<i?i:h}(t,e,y&&m.max||10,y&&m.min||.2,y&&"overshoot"in m?+m.overshoot:_?0:1,!0);for(a in e=C,C=0,d=A(t,e,v,w),e)S[a]||(s=e[a],F(s)&&(s=s(i,t,r)),x(s)?f=s:T(s)&&!isNaN(s.velocity)?f=+s.velocity:o&&o.isTracking(a)?f=o.get(a):console.warn("ERROR: No velocity was defined for "+t+" property: "+a),p=M(f,k),g=0,c=v(t,a),u=H(c),c=parseFloat(c),T(s)&&(l=c+p,"end"in s&&(s=P(s,d&&a in d?d:l,s.max,s.min,a,e.radius,f)),"max"in s&&+s.max<l?_||s.preventOvershoot?p=s.max-c:g=s.max-c-p:"min"in s&&+s.min>l&&(_||s.preventOvershoot?p=s.min-c:g=s.min-c-p)),this._props.push(a),this._pt=new J(this._pt,t,a,c,0,U,0,h.set(t,a,this)),this._pt.u=u||0,this._pt.c1=p,this._pt.c2=g);return n.duration(k),1},render:function(t,e){var n,i=e._pt;for(t=k(e.tween._time/e.tween._dur);i;)i.set(i.t,i.p,(n=i.s+i.c1*t+i.c2*t*t,Math.round(1e4*n)/1e4+i.u),i.d,t),i=i._next}};"track,untrack,isTracking,getVelocity,getByTarget".split(",").forEach(function(t){return I[t]=v[t]}),y()&&w.registerPlugin(I),t.InertiaPlugin=I,t.VelocityTracker=v,t.default=I,"undefined"==typeof window||window!==t?Object.defineProperty(t,"__esModule",{value:!0}):delete t.default});